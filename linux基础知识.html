<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link media="all" rel="stylesheet" href="./css/style.css">

<script src="./js/style.js"></script>



    <title>linux基础知识 - 打工人日志</title>
</head>

<body>
    <div class="header-box">
    <img src="https://test.jobcher.com/images/logo.webp" id="logo" alt="logo" class="logo">
    <h1><a href="https://test.jobcher.com">打工人日志</a></h1>
</div>
<nav class="nav">
    <ul>
        
            <li>
                <a href="./">首页</a>
                
            </li>
        
            <li>
                <a href="./posts">文章</a>
                
            </li>
        
            <li>
                <a href="https://nav.jobcher.com/">导航</a>
                
            </li>
        
            <li>
                <a href="./posts/about">关于</a>
                
            </li>
        
    </ul>
</nav>
    <div id="post" class="post">
        <header>
            <h2 class="post-title">linux基础知识</h2>
            
        </header>
        <article class="article">
                <div class="single-content">
                    <h1 id="linux-基础知识">linux 基础知识</h1>
<h2 id="1简述-linux-权限划分原则">1、简述 Linux 权限划分原则。</h2>
<ol>
<li>给文件或目录分配权限时，先考虑所有者和所属组</li>
<li>遵循最小化权限，用啥权限给啥权限</li>
<li>修改目录和子文件归属权限，注意递归</li>
<li>文件权限分配是最常用的安全防护手段</li>
</ol>
<h2 id="2当用户-user1对testdir-目录有写和执行权限时该目录下的只读文件-file1-是否可修改和删除">2、当用户 user1，对/testdir 目录有写和执行权限时，该目录下的只读文件 file1 是否可修改和删除？</h2>
<p>对 file1 不能修改也不能删除。（如果对目录有写权限和执行权限，则对 file1 不能修改可以删除）</p>
<h2 id="3如果一个系统没有任何的备份策略请写出一个较为全面合理的备份方案">3、如果一个系统没有任何的备份策略，请写出一个较为全面合理的备份方案！</h2>
<p>增量备份：将相较于前一天增加的内容备份，适合每天改变量较大的数据。<br>
差异备份：将相较于第一天改变的内容备份，适合原始数据量比较大，但是之后改变的比较小，即使中间哪一天的丢了也没事，只要最后一天，和第一天的在就行。</p>
<h2 id="4网站服务器每天产生的日志数量较大请问如何备份">4、网站服务器每天产生的日志数量较大，请问如何备份?</h2>
<ol>
<li>使用 logrotate 滚动日志</li>
<li>split 大文件切分处理</li>
<li>shell 脚本处理日志</li>
</ol>
<h2 id="5简述-raid-0raid-1raid-5-的特点与原理">5、简述 Raid 0、Raid 1、Raid 5 的特点与原理。</h2>
<table>
<thead>
<tr>
<th style="text-align:left">RAID 等级</th>
<th style="text-align:left">最少硬盘</th>
<th style="text-align:left">最大容错</th>
<th style="text-align:left">可用容量</th>
<th style="text-align:left">读取性能</th>
<th style="text-align:left">写入性能</th>
<th style="text-align:left">安全性</th>
<th style="text-align:left">目的</th>
<th style="text-align:left">应用产业</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">单一硬盘</td>
<td style="text-align:left">(参考)</td>
<td style="text-align:left">0</td>
<td style="text-align:left">1</td>
<td style="text-align:left">1</td>
<td style="text-align:left">1</td>
<td style="text-align:left">无</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">JBOD</td>
<td style="text-align:left">1</td>
<td style="text-align:left">0</td>
<td style="text-align:left">n</td>
<td style="text-align:left">1</td>
<td style="text-align:left">1</td>
<td style="text-align:left">无（同 RAID 0）</td>
<td style="text-align:left">增加容量</td>
<td style="text-align:left">个人（暂时）</td>
<td>存储备份</td>
</tr>
<tr>
<td style="text-align:left">0</td>
<td style="text-align:left">2</td>
<td style="text-align:left">0</td>
<td style="text-align:left">n</td>
<td style="text-align:left">n</td>
<td style="text-align:left">n</td>
<td style="text-align:left">一个硬盘异常，全部硬盘都会异常</td>
<td style="text-align:left">追求最大容量、速度</td>
<td style="text-align:left">视频剪接缓存用途</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left">2</td>
<td style="text-align:left">n-1</td>
<td style="text-align:left">1</td>
<td style="text-align:left">n</td>
<td style="text-align:left">1</td>
<td style="text-align:left">高，一个正常即可</td>
<td style="text-align:left">追求最大安全性</td>
<td style="text-align:left">个人、企业备份</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">5</td>
<td style="text-align:left">3</td>
<td style="text-align:left">1</td>
<td style="text-align:left">n-1</td>
<td style="text-align:left">n-1</td>
<td style="text-align:left">n-1</td>
<td style="text-align:left">中下至中</td>
<td style="text-align:left">追求最大容量、最小预算</td>
<td style="text-align:left">个人、小型企业备份</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">6</td>
<td style="text-align:left">4</td>
<td style="text-align:left">2</td>
<td style="text-align:left">n-2</td>
<td style="text-align:left">n-2</td>
<td style="text-align:left">n-2</td>
<td style="text-align:left">中至中高,仅安全性较 RAID 5 高</td>
<td style="text-align:left">同 RAID 5，但较安全</td>
<td style="text-align:left">个人、企业备份</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">10</td>
<td style="text-align:left">4</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left">高</td>
<td style="text-align:left">综合 RAID 0/1 优点，理论速度较快</td>
<td style="text-align:left">大型数据库、服务器</td>
<td></td>
</tr>
<tr>
<td style="text-align:left">50</td>
<td style="text-align:left">6</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left">高</td>
<td style="text-align:left">提升资料安全</td>
<td style="text-align:left"></td>
<td></td>
</tr>
<tr>
<td style="text-align:left">60</td>
<td style="text-align:left">8</td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left"></td>
<td style="text-align:left">高</td>
<td style="text-align:left">提升资料安全</td>
<td style="text-align:left"></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="6简述-raid6raid-10-的特点与原理">6、简述 Raid6、Raid 10 的特点与原理。</h2>
<p>与 RAID 5 相比，<code>RAID 6</code>增加第二个独立的奇偶校验信息块。两个独立的奇偶系统使用不同的算法，数据的可靠性非常高，<code>任意两块磁盘同时失效时不会影响数据完整性。</code>RAID 6 需要分配给奇偶校验信息更大的磁盘空间和额外的校验计算，相对于 RAID 5 有更大的 IO 操作量和计算量，其“写性能”强烈取决于具体的实现方案，因此<code>RAID 6</code>通常不会通过软件方式来实现，而更可能通过硬件方式实现。<br>
<code>RAID 10</code>是先分割资料再镜像，再将所有硬盘分为两组，<code>视为以RAID 1作为最低组合</code>，然后将每组 RAID 1 视为一个“硬盘”组合为 RAID 0 运作。当<code>RAID 10</code>有一个硬盘受损，其余硬盘会继续运作</p>
<h2 id="7软-raid-与硬-raid-的区别">7、软 Raid 与硬 Raid 的区别？</h2>
<p><code>硬RAID</code>：通过用<code>硬件</code>来实现 RAID 功能的就是硬 RAID，比如：各种 RAID 卡，还有主板集成能够做的 RAID 都是硬 RAID。</p>
<p><code>软RAID</code>：通过用<code>操作系统</code>来完成 RAID 功能的就是软 RAID，比如：在 Linux 操作系统下，用 3 块硬盘做的 RAID5.</p>
<h2 id="8linux-中有许多系统资源需要监管请问有哪些命令可以查看">8、Linux 中有许多系统资源需要监管，请问有哪些命令可以查看？</h2>
<p><code>htop</code> 查看系统信息<br>
<code>free -h</code> 查看内存</p>
<h2 id="9简述-centos-6x-的启动过程">9、简述 CentOS 6.x 的启动过程？</h2>
<ol>
<li>
<p>加电自检，得到<code>BIOS</code>的硬件信息，获取第一个启动设备</p>
</li>
<li>
<p>读取第一个启动设备 MBR 的引导加载程序<code>（grub）</code>的启动信息</p>
</li>
<li>
<p>加载核心操作系统的核心信息，核心开始解压缩，并尝试驱动所有的硬件设备</p>
</li>
<li>
<p>运行 init 程序</p>
</li>
<li>
<p>运行系统初始化脚本  <code>/etc/rc.d/rc.sysinit</code></p>
</li>
<li>
<p>启动核心的外挂模块</p>
</li>
<li>
<p>init 执行运行各个批处理文件</p>
</li>
<li>
<p>init 执行<code>/etc/rc.d/rc.local</code></p>
</li>
<li>
<p>执行<code>/bin/login</code>程序，等待用户登录</p>
</li>
<li>
<p>登陆之后，打印登陆提示符，并开始 shell 控制主机</p>
</li>
</ol>
<h2 id="10简述-centos-7x-的启动过程">10、简述 CentOS 7.x 的启动过程？</h2>
<ol>
<li>加电后系统固件<code>（system firmware）</code>,也就是 BIOS 或者 UEFI 进行加电测试，初始化部分硬件设备。</li>
<li>系统固件寻找可启动设备。</li>
<li>系统固件从<code>disk</code>上读取<code>boot loader</code>，CentOS7 中的 boot loader 是<code>grub2</code>，之后系统固件把控制权交给<code>boot loader</code>。</li>
<li><code>boot loader</code>从硬盘装载配置文件，向用户显示一个启动选择菜单。</li>
<li>用户选择启动项后，<code>boot loader</code>从硬盘加载选定的内核<code>（kernel）</code>和<code>initramfs</code>到内存中。initramfs 中包括了在启动过程中所需的所有硬件的内核模块（modules）。它的配置文件是 <code>/etc/dracut.conf</code> 。</li>
<li><code>boot loader</code>把启动时传入的参数如<code>rd.break</code>, 还有<code>initramfs</code>在内存中的地址，以及系统的控制权都移交给 kernel。</li>
<li><code>kernel</code>初始化所有硬件，然后从<code>initramfs</code>中执行 <code>/sbin/init</code> 把它作为<code>PID 1</code>. CentOS7 中的<code>init</code>就是<code>systemd</code>。</li>
<li>来自<code>initramfs</code>中的<code>systemd</code>执行所有<code>initrd.target</code>中的<code>unit</code>。把根文件系统 <code>/ 挂载（mount）到 /sysroot</code>.</li>
<li>内核的根文件系统从 initramfs 切换到刚才挂载的<code>/sysroot</code>上后，sysroot 中的 systemd 会重新再执行一次。</li>
<li>systemd 执行<code>default.target</code>, 系统启动完成。</li>
</ol>
<h2 id="11如何进行-linux-系统优化">11、如何进行 Linux 系统优化？</h2>
<p>永久关闭<code>selinux</code></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>vim /etc/selinux/config
</span></span></code></pre></div><p>将 SELINUX=enforcing 改为 SELINUX=disabled，保存后退出,重启生效</p>
<p>设定系统<code>runlevel</code>为 3<br>
节约系统资源</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>grep 3:initdefault /etc/inittab
</span></span><span style="display:flex;"><span>id:3:initdefault:
</span></span><span style="display:flex;"><span>init <span style="color:#ae81ff">3</span>
</span></span></code></pre></div><h2 id="12大文件如何删除">12、大文件如何删除？</h2>
<ol>
<li>查看磁盘使用情况，查看是否需要扩容</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>df -h
</span></span></code></pre></div><ol start="2">
<li>查找大文件，使用 du 定位大文件位置</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># 在根目录查找，展示第一层级的目录和文件，倒叙排列 ，展示前10名</span>
</span></span><span style="display:flex;"><span>du -h / --max-depth<span style="color:#f92672">=</span><span style="color:#ae81ff">1</span> | sort -hr | head -n <span style="color:#ae81ff">10</span>
</span></span></code></pre></div><ol start="3">
<li>删除文件</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># 删除文件可以直接用rm -rf 删除</span>
</span></span><span style="display:flex;"><span>rm -rf &lt;文件或目录&gt;
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 按时间和名称删除 :找到目录下，超过10天的文件 删除名字后缀为.gz的文件</span>
</span></span><span style="display:flex;"><span>find /目录/* -mtime +10 -name <span style="color:#e6db74">&#34;*.gz&#34;</span> -exec rm -rf <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\
</span></span></span></code></pre></div><h2 id="kill-的几种格式有什么区别">kill 的几种格式有什么区别？</h2>
<table>
<thead>
<tr>
<th style="text-align:left">命令</th>
<th style="text-align:left">参数</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">-l</td>
<td style="text-align:left">信号，若果不加信号的编号参数，则使用“-l”参数会列出全部的信号名称</td>
</tr>
<tr>
<td style="text-align:left">-a</td>
<td style="text-align:left">当处理当前进程时，不限制命令名和进程号的对应关系</td>
</tr>
<tr>
<td style="text-align:left">-p</td>
<td style="text-align:left">指定 kill 命令只打印相关进程的进程号，而不发送任何信号</td>
</tr>
<tr>
<td style="text-align:left">-s</td>
<td style="text-align:left">指定发送信号</td>
</tr>
<tr>
<td style="text-align:left">-u</td>
<td style="text-align:left">指定用户</td>
</tr>
</tbody>
</table>
<p>列出所有信号名称</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>kill -l
</span></span></code></pre></div><p>常用信号</p>
<table>
<thead>
<tr>
<th style="text-align:left">信号</th>
<th style="text-align:left">数字</th>
<th style="text-align:left">含义</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">HUP</td>
<td style="text-align:left">1</td>
<td style="text-align:left">终端断线</td>
</tr>
<tr>
<td style="text-align:left">INT</td>
<td style="text-align:left">2</td>
<td style="text-align:left">中断（同 Ctrl + C）</td>
</tr>
<tr>
<td style="text-align:left">QUIT</td>
<td style="text-align:left">3</td>
<td style="text-align:left">退出（同 Ctrl + \）</td>
</tr>
<tr>
<td style="text-align:left">TERM</td>
<td style="text-align:left">15</td>
<td style="text-align:left">终止</td>
</tr>
<tr>
<td style="text-align:left">KILL</td>
<td style="text-align:left">9</td>
<td style="text-align:left">强制终止</td>
</tr>
<tr>
<td style="text-align:left">CONT</td>
<td style="text-align:left">18</td>
<td style="text-align:left">继续（与 STOP 相反， fg/bg 命令）</td>
</tr>
<tr>
<td style="text-align:left">STOP</td>
<td style="text-align:left">19</td>
<td style="text-align:left">暂停（同 Ctrl + Z）</td>
</tr>
</tbody>
</table>
<p><code>kill命令</code>可以带信号号码选项，也可以不带。如果没有信号号码，kill 命令就会发出<code>终止信号(15)</code>，这个信号可以被<code>进程捕获</code>，使得进程在<code>退出</code>之前可以<code>清理并释放资源</code>。</p>

                </div>
            <br />
        <div>
                
                <a href="https://test.jobcher.com/linux%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4.html" class="prev">前一页</a>
                
                
                <a href="https://test.jobcher.com/%E7%BD%91%E5%BF%83%E4%BA%91%E6%8C%82%E6%9C%BA%E6%95%99%E7%A8%8B-%E8%BD%BB%E6%9D%BE%E5%AE%9E%E7%8E%B0%E7%9D%A1%E5%90%8E%E6%94%B6%E5%85%A5~.html" class="next">后一页</a>
                
            </div>
        </article>
    </div>

    <nav class="footer-nav">
        <ul>
            
            <li><a href="./posts/about">关于我们</a></li>
            
            <li><a href="./posts">博文合集</a></li>
            
            <li><a href="./">网站首页</a></li>
            
        </ul>
    </nav>
    <footer class="footer">
    <span style="color: aliceblue;">© 2019-2023 by jobcher</span>
</footer>
</body>

</html>