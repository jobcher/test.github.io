<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link media="all" rel="stylesheet" href="./css/style.css">

<script src="./js/style.js"></script>



    <title>shell 脚本（1） - 打工人日志</title>
</head>

<body>
    <div class="header-box">
    <img src="https://test.jobcher.com/images/logo.webp" id="logo" alt="logo" class="logo">
    <h1><a href="https://test.jobcher.com">打工人日志</a></h1>
</div>
<nav class="nav">
    <ul>
        
            <li>
                <a href="./">首页</a>
                
            </li>
        
            <li>
                <a href="https://nav.jobcher.com/">导航</a>
                
            </li>
        
            <li>
                <a href="./%E5%85%B3%E4%BA%8E%E6%88%91.html">关于</a>
                
            </li>
        
    </ul>
</nav>
    <div id="post" class="post">
        <header>
            <h2 class="post-title">shell 脚本（1）</h2>
            
        </header>
        <article class="article">
                <div class="single-content">
                    <h1 id="shell-脚本之变量">shell 脚本之<code>变量</code></h1>
<h2 id="变量替换">变量替换</h2>
<table>
<thead>
<tr>
<th style="text-align:left">语法</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">${变量名#匹配规则}</td>
<td style="text-align:left">从变量<code>开头</code>进行规则匹配，将符合最<code>短</code>的数据删除</td>
</tr>
<tr>
<td style="text-align:left">${变量名##匹配规则}</td>
<td style="text-align:left">从变量<code>开头</code>进行规则匹配，将符合最<code>长</code>的数据删除</td>
</tr>
<tr>
<td style="text-align:left">${变量名%匹配规则}</td>
<td style="text-align:left">从变量<code>尾部</code>进行规则匹配，将符合最<code>短</code>的数据删除</td>
</tr>
<tr>
<td style="text-align:left">${变量名%%匹配规则}</td>
<td style="text-align:left">从变量<code>尾部</code>进行规则匹配，将符合最<code>长</code>的数据删除</td>
</tr>
<tr>
<td style="text-align:left">${变量名/旧字符串/新字符串}</td>
<td style="text-align:left">变量内容符合旧字符串则，则<code>第一个</code>旧字符串会被新字符串取代</td>
</tr>
<tr>
<td style="text-align:left">${变量名//旧字符串/新字符串}</td>
<td style="text-align:left">变量内容符合旧字符串则，则<code>全部的</code>旧字符串会被新字符串取代</td>
</tr>
</tbody>
</table>
<h2 id="字符串处理">字符串处理</h2>
<ol>
<li>计算字符串长度</li>
</ol>
<table>
<thead>
<tr>
<th style="text-align:left">-</th>
<th style="text-align:left">语法</th>
<th style="text-align:left">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">方法一</td>
<td style="text-align:left">${#string}</td>
<td style="text-align:left">无</td>
</tr>
<tr>
<td style="text-align:left">方法二</td>
<td style="text-align:left">expr length &ldquo;$string&rdquo;</td>
<td style="text-align:left">string 有空格，则必须加双引号</td>
</tr>
</tbody>
</table>
<ol start="2">
<li>
<p>获取子串在字符串中的索引位置<br>
语法： expr index $string $substring</p>
</li>
<li>
<p>计算子串长度<br>
语法： expr match $string substr</p>
</li>
<li>
<p>抽取子串</p>
</li>
</ol>
<ul>
<li>${string:position} ：从 string 中的 position 开始</li>
<li>${string:position:length}：从 position 开始，匹配长度为 length</li>
<li>${string:-position}：从右边开始匹配</li>
<li>${string:(position)}：从左边开始匹配</li>
<li>expr substr $string $position $length：从 position 开始，匹配长度为 length</li>
</ul>

                </div>
            <br />
        <div>
                
                <a href="https://test.jobcher.com/git-%E8%A7%84%E5%88%99.html" class="prev">前一页</a>
                
                
                <a href="https://test.jobcher.com/kubernetes-%E8%84%9A%E6%9C%AC%E5%BF%AB%E9%80%9F%E5%AE%89%E8%A3%85.html" class="next">后一页</a>
                
            </div>
        </article>
    </div>

    <nav class="footer-nav">
        <ul>
            
            <li><a href="./%E5%85%B3%E4%BA%8E%E6%88%91.html">关于我们</a></li>
            
            <li><a href="./">网站首页</a></li>
            
            <li><a href=""></a></li>
            
        </ul>
    </nav>
    <footer class="footer">
    <span style="color: aliceblue;">© 2019-2023 by jobcher</span>
</footer>
</body>

</html>