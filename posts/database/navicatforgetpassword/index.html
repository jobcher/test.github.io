<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link media="all" rel="stylesheet" href="/css/style.css">

<script src="/js/style.js"></script>



    <title>Navicat 查看导出连接的密码 | navicat查看密码方案</title>
</head>

<body>
    <div class="header-box">
    <img src="https://test.jobcher.com/images/logo.webp" id="logo" alt="logo" class="logo">
    <h1><a href="https://test.jobcher.com">打工人日志</a></h1>
</div>
<nav class="nav">
    <ul>
        
            <li>
                <a href="/">首页</a>
                
            </li>
        
            <li>
                <a href="/posts">文章</a>
                
            </li>
        
            <li>
                <a href="https://nav.jobcher.com/">导航</a>
                
            </li>
        
            <li>
                <a href="/posts/about">关于</a>
                
            </li>
        
    </ul>
</nav>
    <div id="post" class="post">
        <header>
            <h2 class="post-title">Navicat 查看导出连接的密码 | navicat查看密码方案</h2>
            
        </header>
        <article class="article">
                <div class="single-content">
                    <h1 id="navicat-查看密码方案">Navicat 查看密码方案</h1>
<h2 id="解决问题">解决问题：</h2>
<p>我们经常使用 navicat 连接数据库，有时候时间久了之后，会忘记之前的密码，那么现在我们有办法获得只要正常连接的数据库的密码</p>
<h2 id="步骤">步骤：</h2>
<ol>
<li>导出连接 connections.ncx，拿到保存到本地的 connections.ncx 文件中的 Password，粘贴到下面的代码中</li>
<li>登陆<a href="https://tool.lu/coderunner/">https://tool.lu/coderunner/</a>，使用 PHP 在线运行工具，粘贴下面添加密码后的代码<br>
备用工具网址（https://zixuephp.net/tool-runcode.html）</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-php" data-lang="php"><span style="display:flex;"><span><span style="color:#f92672">&lt;?</span><span style="color:#a6e22e">php</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">NavicatPassword</span>
</span></span><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> $version <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> $aesKey <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;libcckeylibcckey&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> $aesIv <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;libcciv libcciv &#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> $blowString <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;3DC5CA39&#39;</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> $blowKey <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> $blowIv <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> __construct($version <span style="color:#f92672">=</span> <span style="color:#ae81ff">12</span>)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">version</span> <span style="color:#f92672">=</span> $version;
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">blowKey</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">sha1</span>(<span style="color:#e6db74">&#39;3DC5CA39&#39;</span>, <span style="color:#66d9ef">true</span>);
</span></span><span style="display:flex;"><span>        $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">blowIv</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">hex2bin</span>(<span style="color:#e6db74">&#39;d9c7c3c8870d64bd&#39;</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">encrypt</span>($string)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $result <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span> ($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">version</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">11</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                $result <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">encryptEleven</span>($string);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">12</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                $result <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">encryptTwelve</span>($string);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $result;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">encryptEleven</span>($string)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $round <span style="color:#f92672">=</span> <span style="color:#a6e22e">intval</span>(<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">strlen</span>($string) <span style="color:#f92672">/</span> <span style="color:#ae81ff">8</span>));
</span></span><span style="display:flex;"><span>        $leftLength <span style="color:#f92672">=</span> <span style="color:#a6e22e">strlen</span>($string) <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span>;
</span></span><span style="display:flex;"><span>        $result <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex;"><span>        $currentVector <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">blowIv</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">&lt;</span> $round; $i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            $temp <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">encryptBlock</span>($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">xorBytes</span>(<span style="color:#a6e22e">substr</span>($string, <span style="color:#ae81ff">8</span> <span style="color:#f92672">*</span> $i, <span style="color:#ae81ff">8</span>), $currentVector));
</span></span><span style="display:flex;"><span>            $currentVector <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">xorBytes</span>($currentVector, $temp);
</span></span><span style="display:flex;"><span>            $result <span style="color:#f92672">.=</span> $temp;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ($leftLength) {
</span></span><span style="display:flex;"><span>            $currentVector <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">encryptBlock</span>($currentVector);
</span></span><span style="display:flex;"><span>            $result <span style="color:#f92672">.=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">xorBytes</span>(<span style="color:#a6e22e">substr</span>($string, <span style="color:#ae81ff">8</span> <span style="color:#f92672">*</span> $i, $leftLength), $currentVector);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">strtoupper</span>(<span style="color:#a6e22e">bin2hex</span>($result));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">encryptBlock</span>($block)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">openssl_encrypt</span>($block, <span style="color:#e6db74">&#39;BF-ECB&#39;</span>, $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">blowKey</span>, <span style="color:#a6e22e">OPENSSL_RAW_DATA</span><span style="color:#f92672">|</span><span style="color:#a6e22e">OPENSSL_NO_PADDING</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decryptBlock</span>($block)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">openssl_decrypt</span>($block, <span style="color:#e6db74">&#39;BF-ECB&#39;</span>, $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">blowKey</span>, <span style="color:#a6e22e">OPENSSL_RAW_DATA</span><span style="color:#f92672">|</span><span style="color:#a6e22e">OPENSSL_NO_PADDING</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">xorBytes</span>($str1, $str2)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $result <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">&lt;</span> <span style="color:#a6e22e">strlen</span>($str1); $i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            $result <span style="color:#f92672">.=</span> <span style="color:#a6e22e">chr</span>(<span style="color:#a6e22e">ord</span>($str1[$i]) <span style="color:#f92672">^</span> <span style="color:#a6e22e">ord</span>($str2[$i]));
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $result;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">encryptTwelve</span>($string)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $result <span style="color:#f92672">=</span> <span style="color:#a6e22e">openssl_encrypt</span>($string, <span style="color:#e6db74">&#39;AES-128-CBC&#39;</span>, $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">aesKey</span>, <span style="color:#a6e22e">OPENSSL_RAW_DATA</span>, $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">aesIv</span>);
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">strtoupper</span>(<span style="color:#a6e22e">bin2hex</span>($result));
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decrypt</span>($string)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $result <span style="color:#f92672">=</span> <span style="color:#66d9ef">FALSE</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">switch</span> ($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">version</span>) {
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">11</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                $result <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">decryptEleven</span>($string);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">case</span> <span style="color:#ae81ff">12</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                $result <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">decryptTwelve</span>($string);
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">default</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>                <span style="color:#66d9ef">break</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $result;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decryptEleven</span>($upperString)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $string <span style="color:#f92672">=</span> <span style="color:#a6e22e">hex2bin</span>(<span style="color:#a6e22e">strtolower</span>($upperString));
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        $round <span style="color:#f92672">=</span> <span style="color:#a6e22e">intval</span>(<span style="color:#a6e22e">floor</span>(<span style="color:#a6e22e">strlen</span>($string) <span style="color:#f92672">/</span> <span style="color:#ae81ff">8</span>));
</span></span><span style="display:flex;"><span>        $leftLength <span style="color:#f92672">=</span> <span style="color:#a6e22e">strlen</span>($string) <span style="color:#f92672">%</span> <span style="color:#ae81ff">8</span>;
</span></span><span style="display:flex;"><span>        $result <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;&#39;</span>;
</span></span><span style="display:flex;"><span>        $currentVector <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">blowIv</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> ($i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; $i <span style="color:#f92672">&lt;</span> $round; $i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>            $encryptedBlock <span style="color:#f92672">=</span> <span style="color:#a6e22e">substr</span>($string, <span style="color:#ae81ff">8</span> <span style="color:#f92672">*</span> $i, <span style="color:#ae81ff">8</span>);
</span></span><span style="display:flex;"><span>            $temp <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">xorBytes</span>($this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">decryptBlock</span>($encryptedBlock), $currentVector);
</span></span><span style="display:flex;"><span>            $currentVector <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">xorBytes</span>($currentVector, $encryptedBlock);
</span></span><span style="display:flex;"><span>            $result <span style="color:#f92672">.=</span> $temp;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> ($leftLength) {
</span></span><span style="display:flex;"><span>            $currentVector <span style="color:#f92672">=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">encryptBlock</span>($currentVector);
</span></span><span style="display:flex;"><span>            $result <span style="color:#f92672">.=</span> $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">xorBytes</span>(<span style="color:#a6e22e">substr</span>($string, <span style="color:#ae81ff">8</span> <span style="color:#f92672">*</span> $i, $leftLength), $currentVector);
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> $result;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">decryptTwelve</span>($upperString)
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>        $string <span style="color:#f92672">=</span> <span style="color:#a6e22e">hex2bin</span>(<span style="color:#a6e22e">strtolower</span>($upperString));
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">openssl_decrypt</span>($string, <span style="color:#e6db74">&#39;AES-128-CBC&#39;</span>, $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">aesKey</span>, <span style="color:#a6e22e">OPENSSL_RAW_DATA</span>, $this<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">aesIv</span>);
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//需要指定navacat版本两种，11或12
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$navicatPassword <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> <span style="color:#a6e22e">NavicatPassword</span>(<span style="color:#ae81ff">12</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">//解密，括号里面写入navicat加密后的密码
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>$decode <span style="color:#f92672">=</span> $navicatPassword<span style="color:#f92672">-&gt;</span><span style="color:#a6e22e">decrypt</span>(<span style="color:#e6db74">&#39;E75BF077AB8BAA3AC2D5&#39;</span>);
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">echo</span> $decode<span style="color:#f92672">.</span><span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>;
</span></span><span style="display:flex;"><span><span style="color:#75715e">?&gt;</span><span style="color:#960050;background-color:#1e0010">
</span></span></span></code></pre></div><ol start="3">
<li>点击执行之后，就会得到真实密码</li>
</ol>

                </div>
            <br />
        <div>
                
                <a href="https://test.jobcher.com/posts/git/jenkins/" class="prev">前一页</a>
                
                
                <a href="https://test.jobcher.com/posts/error/pveupdate/" class="next">后一页</a>
                
            </div>
        </article>
    </div>

    <nav class="footer-nav">
        <ul>
            
            <li><a href="/posts/about">关于我们</a></li>
            
            <li><a href="/posts">博文合集</a></li>
            
            <li><a href="/">网站首页</a></li>
            
        </ul>
    </nav>
    <footer class="footer">
    <span style="color: aliceblue;">© 2019-2023 by jobcher</span>
</footer>
</body>

</html>