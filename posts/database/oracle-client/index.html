<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link media="all" rel="stylesheet" href="../../../css/style.css">

<script src="../../../js/style.js"></script>



    <title>Oracle Instant Client 安装配置实现远程连接oracle - 打工人日志</title>
</head>

<body>
    <div class="header-box">
    <img src="https://test.jobcher.com/images/logo.webp" id="logo" alt="logo" class="logo">
    <h1><a href="https://test.jobcher.com">打工人日志</a></h1>
</div>
<nav class="nav">
    <ul>
        
            <li>
                <a href="../../../">首页</a>
                
            </li>
        
            <li>
                <a href="../../../posts">文章</a>
                
            </li>
        
            <li>
                <a href="https://nav.jobcher.com/">导航</a>
                
            </li>
        
            <li>
                <a href="../../../posts/about">关于</a>
                
            </li>
        
    </ul>
</nav>
    <div id="post" class="post">
        <header>
            <h2 class="post-title">Oracle Instant Client 安装配置实现远程连接oracle</h2>
            
                <img src="../../../images/oracle.png" alt="Oracle Instant Client 安装配置实现远程连接oracle" class="featured-image">
            
        </header>
        <article class="article">
                <div class="single-content">
                    <h2 id="背景">背景</h2>
<p>关于 Oracle 数据库一直是许多初学者比较头疼的地方，一方面受限于线上文档比较少，令一方面在企业中不得不接触和使用 Oracle 数据库，这篇文章是教大家如何通过配置 oracle client 来远程访问 Oracle 数据库。本文会通过 python3 和 cx_Oracle 来实现对 Oracle 的访问和增删改查</p>
<h2 id="下载-oracle-客户端">下载 oracle 客户端</h2>
<p><a href="https://www.oracle.com/database/technologies/instant-client/linux-x86-64-downloads.html">官方地址下载</a></p>
<h3 id="安装">安装</h3>
<p>下载并安装你的 oracle client，因为我连接的 11g oracle，所以下载 11.2 版本</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># 下载</span>
</span></span><span style="display:flex;"><span>wget https://download.oracle.com/otn/linux/instantclient/11204/oracle-instantclient11.2-basic-11.2.0.4.0-1.x86_64.rpm
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 安装</span>
</span></span><span style="display:flex;"><span>rpm -ivh oracle-instantclient11.2-basic-11.2.0.4.0-1.x86_64.rpm
</span></span></code></pre></div><h3 id="配置环境变量">配置环境变量</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># 直接运行</span>
</span></span><span style="display:flex;"><span>export ORACLE_HOME<span style="color:#f92672">=</span>/usr/lib/oracle/11.2/client64
</span></span><span style="display:flex;"><span>export ORABIN<span style="color:#f92672">=</span>/usr/lib/oracle/11.2/client64/bin
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># 编辑环境变量配置文件</span>
</span></span><span style="display:flex;"><span>vim /etc/profile
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># 底部增加内容</span>
</span></span><span style="display:flex;"><span>export PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL
</span></span><span style="display:flex;"><span>export ORACLE_HOME<span style="color:#f92672">=</span>/usr/lib/oracle/11.2/client64
</span></span><span style="display:flex;"><span>export TNS_ADMIN<span style="color:#f92672">=</span>/usr/lib/oracle/11.2/client64
</span></span><span style="display:flex;"><span>export LD_LIBRARY_PATH<span style="color:#f92672">=</span>/usr/lib/oracle/11.2/client64/lib
</span></span><span style="display:flex;"><span>export ORABIN<span style="color:#f92672">=</span>/usr/lib/oracle/11.2/client64/bin
</span></span><span style="display:flex;"><span>PATH<span style="color:#f92672">=</span>$PATH:$ORABIN
</span></span><span style="display:flex;"><span>export PATH
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>export PATH<span style="color:#f92672">=</span>$ORACLE_HOME:$PATH
</span></span><span style="display:flex;"><span>export PATH<span style="color:#f92672">=</span>$PATH:$HOME/bin:$ORACLE_HOME/bin
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># 刷新环境变量</span>
</span></span><span style="display:flex;"><span>source /etc/profile
</span></span></code></pre></div><h2 id="下载-cx_oracle">下载 cx_Oracle</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>pip3 install cx_Oracle
</span></span></code></pre></div><p>创建 Oracle.py 文件</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-py" data-lang="py"><span style="display:flex;"><span><span style="color:#75715e">#!/usr/bin/python3</span>
</span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">使用python 对oracle数据进行操作
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">提前安装好 cx_Oracle
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">pip3 install cx_Oracle
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">&#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">import</span> cx_Oracle
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>conn <span style="color:#f92672">=</span> cx_Oracle<span style="color:#f92672">.</span>connect(<span style="color:#e6db74">&#39;用户名&#39;</span>,<span style="color:#e6db74">&#39;密码&#39;</span>,<span style="color:#e6db74">&#39;IP/SN&#39;</span>)
</span></span><span style="display:flex;"><span>cursor <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span>cursor()
</span></span><span style="display:flex;"><span>sql <span style="color:#f92672">=</span> <span style="color:#e6db74">&#39;SELECT * FROM test_table&#39;</span>
</span></span><span style="display:flex;"><span>cursor<span style="color:#f92672">.</span>execute(sql)
</span></span><span style="display:flex;"><span>res <span style="color:#f92672">=</span> cursor<span style="color:#f92672">.</span>fetchall()
</span></span><span style="display:flex;"><span>print (res)
</span></span></code></pre></div><h2 id="执行文件">执行文件</h2>
<blockquote>
<p>python3 oracle.py</p>
</blockquote>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e">#输出内容</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>none,0<span style="color:#f92672">]</span>
</span></span></code></pre></div>
                </div>
            <br />
        <div>
                
                <a href="https://test.jobcher.com/posts/kubernetes/k8s16/" class="prev">前一页</a>
                
                
                <a href="https://test.jobcher.com/posts/diary/shell-test/" class="next">后一页</a>
                
            </div>
        </article>
    </div>

    <nav class="footer-nav">
        <ul>
            
            <li><a href="../../../posts/about">关于我们</a></li>
            
            <li><a href="../../../posts">博文合集</a></li>
            
            <li><a href="../../../">网站首页</a></li>
            
        </ul>
    </nav>
    <footer class="footer">
    <span style="color: aliceblue;">© 2019-2023 by jobcher</span>
</footer>
</body>

</html>