<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link media="all" rel="stylesheet" href="/css/style.css">

<script src="/js/style.js"></script>



    <title>Linux crontab 命令</title>
</head>

<body>
    <div class="header-box">
    <img src="https://www.jobcher.com/images/logo.webp" id="logo" alt="logo" class="logo">
    <h1><a href="https://www.jobcher.com">打工人日志</a></h1>
</div>
<nav class="nav">
    <ul>
        
            <li>
                <a href="/">首页</a>
                
            </li>
        
            <li>
                <a href="/posts">文章</a>
                
            </li>
        
            <li>
                <a href="https://nav.jobcher.com/">导航</a>
                
            </li>
        
            <li>
                <a href="/posts/about">关于</a>
                
            </li>
        
    </ul>
</nav>
    <div id="post" class="post">
        <header>
            <h2 class="post-title">Linux crontab 命令</h2>
            
        </header>
        <article class="article">
                <div class="single-content">
                    <h1 id="linux-crontab-命令">Linux crontab 命令</h1>
<p>Linux <code>crontab</code>是用来<code>定期执行程序</code>的命令。</p>
<ol>
<li><code>系统执行</code>的工作：系统周期性所要执行的工作，如<code>备份系统数据</code>、<code>清理缓存</code></li>
<li><code>个人执行</code>的工作：某个用户定期要做的工作，例如<code>每隔10分钟检查邮件服务器</code>是否有新信，这些工作可由每个用户自行设置</li>
</ol>
<h2 id="语法">语法</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>crontab <span style="color:#f92672">[</span> -u user <span style="color:#f92672">]</span> file
</span></span><span style="display:flex;"><span>crontab <span style="color:#f92672">[</span> -u user <span style="color:#f92672">]</span> <span style="color:#f92672">{</span> -l | -r | -e <span style="color:#f92672">}</span>
</span></span></code></pre></div><p>说明：<br>
<code>crontab</code> 是用来让使用者在<code>固定时间或固定间隔执行程序</code>之用，换句话说，也就是类似使用者的时程表。</p>
<p><code>-u user</code> 是指设定指定 <code>user</code> 的时程表，这个前提是你必须要有其<code>权限</code>(比如说是 root)才能够指定他人的时程表。如果不使用 <code>-u user</code> 的话，就是表示<code>设定自己的时程表</code>。</p>
<p>参数说明：</p>
<p><code>-e</code> : <code>执行文字编辑器来设定时程表</code>，内定的文字编辑器是 <code>VI</code>，如果你想用别的文字编辑器，则请先设定 VISUAL 环境变数来指定使用那个文字编辑器(比如说 <code>setenv VISUAL joe</code>)<br>
<code>-r</code> : <code>删除</code>目前的时程表<br>
<code>-l</code> : <code>列出</code>目前的时程表</p>
<p>时间格式如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>f1  f2   f3   f4   f5    program
</span></span><span style="display:flex;"><span>*    *    *    *    *
</span></span><span style="display:flex;"><span>-    -    -    -    -
</span></span><span style="display:flex;"><span>|    |    |    |    |
</span></span><span style="display:flex;"><span>|    |    |    |    +----- 星期中星期几 <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> - 6<span style="color:#f92672">)</span> <span style="color:#f92672">(</span>星期天 为0<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>|    |    |    +---------- 月份 <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> - 12<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>|    |    +--------------- 一个月中的第几天 <span style="color:#f92672">(</span><span style="color:#ae81ff">1</span> - 31<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>|    +-------------------- 小时 <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> - 23<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>+------------------------- 分钟 <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> - 59<span style="color:#f92672">)</span>
</span></span></code></pre></div><p>其中 <code>f1</code> 是表示<code>分钟</code>，<code>f2</code> 表示<code>小时</code>，<code>f3</code> 表示<code>一个月份中的第几日</code>，<code>f4</code> 表示<code>月份</code>，<code>f5</code> 表示<code>一个星期中的第几天</code>。<code>program</code> 表示<code>要执行的程序</code>。
当 <code>f1</code> 为<code> *</code> 时表示<code>每分钟都要执行</code> program，<code>f2</code> 为 <code>*</code> 时表示<code>每小时都要执行程序</code>，其馀类推
当 <code>f1</code> 为 <code>a-b</code> 时表示从<code>第 a 分钟到第 b 分钟</code>这段时间内要<code>执行</code>，<code>f2</code> 为 <code>a-b</code> 时表示从<code>第 a 到第 b 小时</code>都要执行，其馀类推
当 <code>f1</code> 为 <code>*/n</code> 时表示<code>每 n 分钟个时间间隔执行一次</code>，<code>f2</code> 为 <code>*/n</code> 表示<code>每 n 小时个时间间隔执行一次</code>，其馀类推
当 <code>f1</code> 为 <code>a, b, c,...</code> 时表示<code>第 a, b, c,...</code> 分钟要<code>执行</code>，<code>f2</code> 为 <code>a, b, c,...</code> 时表示<code>第 a, b, c...个小时要执行</code>，其馀类推</p>

                </div>
            <br />
        <div>
                
                <a href="https://www.jobcher.com/posts/git/git2/" class="prev">前一页</a>
                
                
                <a href="https://www.jobcher.com/posts/diary/bench/" class="next">后一页</a>
                
            </div>
        </article>
    </div>

    <nav class="footer-nav">
        <ul>
            
            <li><a href="/posts/about">关于我们</a></li>
            
            <li><a href="/posts">博文合集</a></li>
            
            <li><a href="/">网站首页</a></li>
            
        </ul>
    </nav>
    <footer class="footer">
    <span style="color: aliceblue;">© 2019-2023 by jobcher</span>
</footer>
</body>

</html>