<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link media="all" rel="stylesheet" href="./css/style.css">

<script src="./js/style.js"></script>



    <title>nginx ssh-key connection exception - 打工人日志</title>
</head>

<body>
    <div class="header-box">
    <img src="https://test.jobcher.com/images/logo.webp" id="logo" alt="logo" class="logo">
    <h1><a href="https://test.jobcher.com">打工人日志</a></h1>
</div>
<nav class="nav">
    <ul>
        
            <li>
                <a href="./">首页</a>
                
            </li>
        
            <li>
                <a href="./posts">文章</a>
                
            </li>
        
            <li>
                <a href="https://nav.jobcher.com/">导航</a>
                
            </li>
        
            <li>
                <a href="./posts/about">关于</a>
                
            </li>
        
    </ul>
</nav>
    <div id="post" class="post">
        <header>
            <h2 class="post-title">nginx ssh-key connection exception</h2>
            
        </header>
        <article class="article">
                <div class="single-content">
                    <h1 id="nginx-ssh-key-connection-exception">nginx ssh-key connection exception</h1>
<p>Not long ago, I wanted to restart the company&rsquo;s gitlab server.I couldn&rsquo;t coonect to ssh when it restarted.emm……I try copy the ssh rsa.pub,but it didn&rsquo;t work.</p>
<p>error log:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-fallback" data-lang="fallback"><span style="display:flex;"><span>identity_sign: private key ~/.ssh/id_rsa contents do not match public
</span></span></code></pre></div><p>what is happen？</p>
<h1 id="solution">solution</h1>
<p>reconfigure gitlab ssh key!</p>
<ol>
<li>create new ssh key</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span>ssh-keygen -t rsa -C <span style="color:#e6db74">&#39;git@gitlab.com&#39;</span> -f ~/.ssh/gitlab-rsa
</span></span></code></pre></div><ol start="2">
<li>update config file,enter ~./ssh,open config</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sh" data-lang="sh"><span style="display:flex;"><span><span style="color:#75715e"># add host</span>
</span></span><span style="display:flex;"><span>Host gitlab.com
</span></span><span style="display:flex;"><span>    HostName gitlab.com
</span></span><span style="display:flex;"><span>    IdentityFile ~/.ssh/gitlab_id-rsa
</span></span></code></pre></div><ol start="3">
<li>enter <a href="http://gitlab.com">http://gitlab.com</a> ,Profile Settings&ndash;&gt;SSH Keys&ndash;&gt;Add SSH Key</li>
</ol>
<p><code>You are done</code></p>

                </div>
            <br />
        <div>
                
                <a href="https://test.jobcher.com/%E7%BC%96%E5%86%99-kubernetes-%E8%B5%84%E6%BA%90%E6%8F%8F%E8%BF%B0%E6%96%87%E4%BB%B6.html" class="prev">前一页</a>
                
                
                <a href="https://test.jobcher.com/kubernetes-manual-expansion.html" class="next">后一页</a>
                
            </div>
        </article>
    </div>

    <nav class="footer-nav">
        <ul>
            
            <li><a href="./posts/about">关于我们</a></li>
            
            <li><a href="./posts">博文合集</a></li>
            
            <li><a href="./">网站首页</a></li>
            
        </ul>
    </nav>
    <footer class="footer">
    <span style="color: aliceblue;">© 2019-2023 by jobcher</span>
</footer>
</body>

</html>