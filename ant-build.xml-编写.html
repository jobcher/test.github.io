<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link media="all" rel="stylesheet" href="./css/style.css">
<link media="all" rel="stylesheet" href="./css/search.css">

<script src="./js/style.js"></script>



    <title>ant build.xml 编写 - 打工人日志</title>
</head>

<body>
    <div class="header-box">
    <img src="https://test.jobcher.com/images/logo.webp" id="logo" alt="logo" class="logo">
    <h1><a href="https://test.jobcher.com">打工人日志</a></h1>
</div>
<nav class="nav">
    <ul>
        
            <li>
                <a href="./">首页</a>
                
            </li>
        
            <li>
                <a href="https://test.jobcher.com/">日报</a>
                
            </li>
        
            <li>
                <a href="https://nav.jobcher.com/">导航</a>
                
            </li>
        
            <li>
                <a href="./%E5%85%B3%E4%BA%8E%E6%88%91.html">关于</a>
                
            </li>
        
    </ul>
</nav>
    <div id="post" class="post">
        <header>
            <h2 class="post-title">ant build.xml 编写</h2>
            
        </header>
        <article class="article">
                <div class="single-content">
                    <h1 id="ant-buildxml-编写">ant build.xml 编写</h1>
<h2 id="生成-buildxml">生成 build.xml</h2>
<p><code>Eclipse</code> 自动生成 Ant 的<code>Build.xml</code> 配置文件,生成的方法很隐蔽<br>
选择你要生成<code>Build.xml</code>文件的项目,右键. <code>Export-&gt; General -&gt; Ant Buildfiles .</code><br>
点 Next,选择项目，再点<code>Finish</code>.</p>
<h2 id="编写-buildxml">编写 build.xml</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34; standalone=&#34;no&#34;?&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- 每个构建文件对应一个项目。&lt;project&gt;标签时构建文件的根标签。它可以有多个内在属性，就如代码中所示，其各个属性的含义分别如下。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">(1) default表示默认的运行目标，这个属性是必须的。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">(2) basedir表示项目的基准目录。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">(3) name表示项目名。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">(4) description表示项目的描述。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"> --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;project</span> <span style="color:#a6e22e">default=</span><span style="color:#e6db74">&#34;build&#34;</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;Sort&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 设置属性或文件路径，读取属性使用${property}，value路径默认项目根目录 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">file=</span><span style="color:#e6db74">&#34;ant/builds.properties&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;src.dir&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;src/statics&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;classes.dir&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;ant/classes&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;lib.dir&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;lib&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;dist.dir&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;ant/dist&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 定义classpath --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;path</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;master-classpath&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;fileset</span> <span style="color:#a6e22e">file=</span><span style="color:#e6db74">&#34;${lib.dir}/*.jar&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;pathelement</span> <span style="color:#a6e22e">path=</span><span style="color:#e6db74">&#34;${classes.dir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/path&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!--一个项目标签Project包含多个target标签，一个target标签可以依赖其他的target标签
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		在生成可执行文件之前必须先编译该文件，因策可执行文件的target依赖于编译程序的 target。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		(1).name表示标明，这个属性是必须的。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		(2).depends表示依赖的目标。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		(3)if表示仅当属性设置时才执行。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		(4)unless表示当属性没有设置时才执行。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		(5)description表示项目的描述。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		Ant的depends属性指定了target的执行顺序。Ant会依照depends属性中target出现顺序依次执行每个target。在执行之前，首先需要执行它所依赖的target。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">	 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 初始化任务 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;target</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;init&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 输出标签 ，${init}是builds.properties中的属性 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;echo</span> <span style="color:#a6e22e">message=</span><span style="color:#e6db74">&#34;  Available Targets:&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;echo</span> <span style="color:#a6e22e">message=</span><span style="color:#e6db74">&#34;-------------------------------------------------------&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;echo</span> <span style="color:#a6e22e">message=</span><span style="color:#e6db74">&#34;  init ${init}   ...&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;echo</span> <span style="color:#a6e22e">message=</span><span style="color:#e6db74">&#34;-------------------------------------------------------&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/target&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 编译 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;target</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;compile&#34;</span> <span style="color:#a6e22e">depends=</span><span style="color:#e6db74">&#34;init&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;compile the source files&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 删除文件夹 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;delete</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${classes.dir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 创建文件夹 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;mkdir</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${classes.dir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 编译java生成class文件 ，其属性如下
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(1).srcdir表示源程序的目录。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(2).destdir表示class文件的输出目录。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(3).include表示被编译的文件的模式。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(4).excludes表示被排除的文件的模式。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(5).classpath表示所使用的类路径。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(6).debug表示包含的调试信息。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(7).optimize表示是否使用优化。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(8).verbose 表示提供详细的输出信息。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(9).fileonerror表示当碰到错误就自动停止。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;javac</span> <span style="color:#a6e22e">srcdir=</span><span style="color:#e6db74">&#34;${src.dir}&#34;</span> <span style="color:#a6e22e">destdir=</span><span style="color:#e6db74">&#34;${classes.dir}&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">&lt;!-- 编译需要的jar包 引用前面设置的class-path --&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;classpath</span> <span style="color:#a6e22e">refid=</span><span style="color:#e6db74">&#34;master-classpath&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/javac&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/target&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 打包成jar --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;target</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;pack&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;make .jar file&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;delete</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${dist.dir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;mkdir</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${dist.dir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 该标签用来生成一个JAR文件，其属性如下
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(1) destfile表示JAR文件名。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(2) basedir表示被归档的文件名。要操作的文件路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(3) includes表示别归档的文件模式。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(4) exchudes表示被排除的文件模式。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;jar</span> <span style="color:#a6e22e">destfile=</span><span style="color:#e6db74">&#34;${dist.dir}/hello.jar&#34;</span> <span style="color:#a6e22e">basedir=</span><span style="color:#e6db74">&#34;${classes.dir}&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#75715e">&lt;!-- 不包含的类或内容 --&gt;</span>
</span></span><span style="display:flex;"><span>			<span style="color:#f92672">&lt;exclude</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;**/*Test.*&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;/jar&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/target&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- 生成zip压缩包 --&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;target</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;zip&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>	    <span style="color:#f92672">&lt;delete</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${release-dir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;mkdir</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${release-dir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#75715e">&lt;!-- 该标签用来生成一个zip文件，其属性如下
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(1) destfile表示zip文件名。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(2) basedir表示被归档的文件名。 要操作的文件路径
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(3) includes表示别归档的文件模式。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">			(4) exchudes表示被排除的文件模式。
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">		 --&gt;</span>
</span></span><span style="display:flex;"><span>		<span style="color:#f92672">&lt;zip</span> <span style="color:#a6e22e">destfile=</span><span style="color:#e6db74">&#34;${release-dir}/antTest.zip&#34;</span> <span style="color:#a6e22e">update=</span><span style="color:#e6db74">&#34;true&#34;</span>
</span></span><span style="display:flex;"><span>			       <span style="color:#a6e22e">basedir=</span><span style="color:#e6db74">&#34;ant&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#f92672">&lt;/target&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/project&gt;</span>
</span></span></code></pre></div><p>欢迎关注我的博客<a href="https://www.jobcher.com/">www.jobcher.com</a></p>

                </div>
            <br />
        <div>
                
                <a href="https://test.jobcher.com/vscode%E6%8F%92%E4%BB%B6%E6%8E%A8%E8%8D%90-code-runner.html" class="prev">前一页</a>
                
                
                <a href="https://test.jobcher.com/kubernetes-%E8%B0%83%E5%BA%A6%E8%BF%87%E7%A8%8B.html" class="next">后一页</a>
                
            </div>
        </article>
    </div>

    <nav class="footer-nav">
        <ul>
            
            <li><a href="./%E5%85%B3%E4%BA%8E%E6%88%91.html">关于我们</a></li>
            
            <li><a href="./">网站首页</a></li>
            
            <li><a href=""></a></li>
            
        </ul>
    </nav>
    <footer class="footer">
    <span style="color: aliceblue;">© 2019-2023 by jobcher</span>
</footer>
</body>

</html>