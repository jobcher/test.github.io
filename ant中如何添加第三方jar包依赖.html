<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link media="all" rel="stylesheet" href="./css/style.css">

<script src="./js/style.js"></script>



    <title>Ant中如何添加第三方jar包依赖 - 打工人日志</title>
</head>

<body>
    <div class="header-box">
    <img src="https://test.jobcher.com/images/logo.webp" id="logo" alt="logo" class="logo">
    <h1><a href="https://test.jobcher.com">打工人日志</a></h1>
</div>
<nav class="nav">
    <ul>
        
            <li>
                <a href="./">首页</a>
                
            </li>
        
            <li>
                <a href="https://nav.jobcher.com/">导航</a>
                
            </li>
        
            <li>
                <a href="./%E5%85%B3%E4%BA%8E%E6%88%91.html">关于</a>
                
            </li>
        
    </ul>
</nav>
    <div id="post" class="post">
        <header>
            <h2 class="post-title">Ant中如何添加第三方jar包依赖</h2>
            
        </header>
        <article class="article">
                <div class="single-content">
                    <h1 id="ant-中如何添加第三方-jar-包依赖">Ant 中如何添加第三方 jar 包依赖</h1>
<p>如果使用 ant 进行 java 项目的编译部署，那怎么添加第三方 jar 包的依赖呢？方法如下：</p>
<ol>
<li>在项目的根目录下创建 lib 目录，并把所有需要的第三方 jar 包放到此目录下。</li>
<li>在 build.xml 中依次添加：path、property，并在 javac 中添加 classpath，添加 unjar。完整配置如下：</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-xml" data-lang="xml"><span style="display:flex;"><span><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;project</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;MyTool&#34;</span> <span style="color:#a6e22e">default=</span><span style="color:#e6db74">&#34;build&#34;</span> <span style="color:#a6e22e">basedir=</span><span style="color:#e6db74">&#34;.&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;description&gt;</span>The ant project to build MyTool.<span style="color:#f92672">&lt;/description&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;srcDir&#34;</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;src&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;源文件的存放目录&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;libDir&#34;</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;lib&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;第三方jar包的存放目录&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;antDir&#34;</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;ant&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;编译后所有文件存放的根目录&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;binDir&#34;</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;${antDir}/bin&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;编译后class文件的存放目录&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jarDir&#34;</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;${antDir}/jar&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;打包后jar包的存放目录&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;jarFile&#34;</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;${jarDir}/MyTool.jar&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;打包后jar包存放的完整路径&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;package&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;com.xiboliya.mytool&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;包名&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;mainClass&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;MyTool&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;主类名&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;resFromDir&#34;</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;res&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;资源文件的源目录&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;resToDir&#34;</span> <span style="color:#a6e22e">location=</span><span style="color:#e6db74">&#34;${binDir}/res&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;资源文件的目标目录&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;path</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;libPath&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;编译时依赖的第三方jar包的存放路径&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;fileset</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${libDir}&#34;</span> <span style="color:#a6e22e">erroronmissingdir=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;include</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;*.jar&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/fileset&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/path&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;property</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;classpath&#34;</span> <span style="color:#a6e22e">refid=</span><span style="color:#e6db74">&#34;libPath&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;编译时依赖的第三方jar包的存放路径&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;target</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;init&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;初始化&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;delete</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${binDir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;delete</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${jarDir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;mkdir</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${binDir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;mkdir</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${jarDir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;copy</span> <span style="color:#a6e22e">todir=</span><span style="color:#e6db74">&#34;${resToDir}&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;复制资源文件&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;fileset</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${resFromDir}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/copy&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/target&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;target</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;compile&#34;</span> <span style="color:#a6e22e">depends=</span><span style="color:#e6db74">&#34;init&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;编译代码&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;javac</span> <span style="color:#a6e22e">srcdir=</span><span style="color:#e6db74">&#34;${srcDir}&#34;</span> <span style="color:#a6e22e">destdir=</span><span style="color:#e6db74">&#34;${binDir}&#34;</span> <span style="color:#a6e22e">classpath=</span><span style="color:#e6db74">&#34;${classpath}&#34;</span> <span style="color:#a6e22e">includeAntRuntime=</span><span style="color:#e6db74">&#34;false&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;compilerarg</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;-Xlint:unchecked&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;compilerarg</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;-Xlint:deprecation&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/javac&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/target&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;target</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;unjarLib&#34;</span> <span style="color:#a6e22e">depends=</span><span style="color:#e6db74">&#34;init&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;解压第三方jar包，以便于重新打包入程序jar包中&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;unjar</span> <span style="color:#a6e22e">dest=</span><span style="color:#e6db74">&#34;${binDir}&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;fileset</span> <span style="color:#a6e22e">dir=</span><span style="color:#e6db74">&#34;${libDir}&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;include</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;**/*.jar&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/fileset&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;patternset&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;exclude</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;META-INF&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;exclude</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;META-INF/MANIFEST.MF&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/patternset&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/unjar&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/target&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;target</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;makeJar&#34;</span> <span style="color:#a6e22e">depends=</span><span style="color:#e6db74">&#34;init,compile,unjarLib&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;生成jar包&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;jar</span> <span style="color:#a6e22e">destfile=</span><span style="color:#e6db74">&#34;${jarFile}&#34;</span> <span style="color:#a6e22e">basedir=</span><span style="color:#e6db74">&#34;${binDir}&#34;</span> <span style="color:#a6e22e">excludes=</span><span style="color:#e6db74">&#34;**/Thumbs.db&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;打包为jar文件，并排除Thumbs.db文件&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;manifest&gt;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">&lt;attribute</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;Main-Class&#34;</span> <span style="color:#a6e22e">value=</span><span style="color:#e6db74">&#34;${package}.${mainClass}&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">&lt;/manifest&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;/jar&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/target&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;target</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;build&#34;</span> <span style="color:#a6e22e">depends=</span><span style="color:#e6db74">&#34;init,compile,makeJar&#34;</span> <span style="color:#a6e22e">description=</span><span style="color:#e6db74">&#34;编译并打包&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">&lt;echo</span> <span style="color:#a6e22e">message=</span><span style="color:#e6db74">&#34;Ant is building the project.&#34;</span> <span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">&lt;/target&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/project&gt;</span>
</span></span></code></pre></div><p>欢迎关注我的博客<a href="https://www.jobcher.com/">www.jobcher.com</a></p>

                </div>
            <br />
        <div>
                
                <a href="https://test.jobcher.com/ansible-%E5%91%BD%E4%BB%A4.html" class="prev">前一页</a>
                
                
                <a href="https://test.jobcher.com/k8s%E6%9C%AC%E5%9C%B0%E8%81%94%E8%B0%83%E7%A5%9E%E5%99%A8kt-connect.html" class="next">后一页</a>
                
            </div>
        </article>
    </div>

    <nav class="footer-nav">
        <ul>
            
            <li><a href="./%E5%85%B3%E4%BA%8E%E6%88%91.html">关于我们</a></li>
            
            <li><a href="./">网站首页</a></li>
            
            <li><a href=""></a></li>
            
        </ul>
    </nav>
    <footer class="footer">
    <span style="color: aliceblue;">© 2019-2023 by jobcher</span>
</footer>
</body>

</html>